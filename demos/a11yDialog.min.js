/*! a11yDialog - v0.0.1 - 2015-01-15
* https://github.com/karlgroves/a11yDialog
* Copyright (c) 2015 Karl Groves; Licensed MIT */
!function(a){a.widget("ui.dialog",a.ui.dialog,{_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:this.options.role||"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay(function(){e.focus()}),b.preventDefault()):(this._delay(function(){d.focus()}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},open:function(){var b=this.options.modal;if(b===!0){this._setOption("dialogClass","a11y-ui-dialog-open");var c=a("a[href], area, input:not(input[type=hidden]), button, select, textarea, *[tabindex=0]").filter(":visible").not(".a11y-ui-dialog-open *");c.attr({tabindex:"-1","aria-hidden":"true"}).addClass("ui-dialog-hidden-by-modal")}return this._super()},close:function(){var b=this.options.modal;return b===!0&&a(".ui-dialog-hidden-by-modal").attr({tabindex:"0"}).removeAttr("aria-hidden").removeClass("ui-dialog-hidden-by-modal"),this._super()}})}(jQuery,window,document);