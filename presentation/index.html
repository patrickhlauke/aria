<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>WAI-ARIA - an introduction to Accessible Rich Internet Applications / Patrick H. Lauke</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=792, initial-scale=1">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="stylesheet" href="shower/themes/redux/styles/screen.css">
	<link rel="stylesheet" href="shower/themes/redux/styles/overrides.css">
	<link rel="stylesheet" href="highlight/styles/sunburst.css">
	<script src="highlight/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body class="list">
<header class="caption">
	<h1>WAI-ARIA</h1>
	<p>An introduction to Accessible Rich Internet Applications</p>
</header>

<!-- -->

<section class="slide cover title" id="Cover"><div>
	<div class="titlestrap">
    	<h2>WAI-ARIA</h2>
		<p>An introduction to <strong>Accessible Rich Internet Applications</strong></p>
    </div>
	<p class="info">Patrick H. Lauke</p>
	<img src="pictures/background-cover.jpg" alt="" class="cover">
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>what is <strong>ARIA</strong><br>and why do we <strong>need it</strong>?</p>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>the problem</h3>
	<p>it's <strong>"easy"</strong> (in most cases) to make <strong>static web content</strong> accessible, but nowadays the web strives to be an application platform</p>
	<p>complex <strong>web applications</strong> require structures (e.g. interactive controls) that go beyond what regular HTML offers (though some of this introduced with HTML5 ... more on that later)</p>
	<!-- [TODO] note that we assume here that devs have a good working knowledge of accessibility 101 / WCAG -->
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/jqueryui.png" alt="">
	<p><a target=_blank href="https://jqueryui.com">jQuery UI</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/webcomponents.png" alt="">
	<p><a target=_blank href="https://www.webcomponents.org/">webcomponents.org</a></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>the problem</h3>
	<p>when building interactive controls, some (too many) web developers go "all out" on the JavaScript/CSS, but <strong>ignore/sidestep regular HTML controls completely</strong> (where native HTML equivalents are available) and <strong>ignore how these controls are exposed to assistive technologies</strong></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>accessibility is a broad subject</h3>
	<ul>
		<li>the general concept of accessibility covers a large spectrum of disabilities / user needs</li>
		<li>accessibility does not just mean "blind users with screen readers"</li>
		<li>sighted keyboard users, users with colour blindness / deficiencies, deaf / hard of hearing users, users with cognitive disabilities...</li>
		<li>however, ARIA is (almost) exclusively about how to ensure that web content is correctly conveyed to assistive technologies (screen readers, screen magnifiers with screen reading capability, etc)</li>
	</ul>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>github.com/patrickhlauke/aria</p>
</div>
</div></section>

<!-- -->

<section class="slide cover impact"><div>
    <div><p>code examples here are simplified<br><small>(but will hopefully convey the right concepts)</small></p></div>
    <img src="pictures/background-danger-415-volts.jpg" class="cover" alt="Warning sign with lightning bolt and text: Danger 415 volts">
</div></section>

<!-- -->

<section class="slide code"><div>
<div>
	<img src="pictures/faked-button.png" alt="">
	<pre><code>&lt;div onclick="..."&gt;Test&lt;/div&gt;</code></pre>
	<p><small><a target=_blank href="../demos/button/index.html">faked button</a></small></p>
	<p>for a sighted mouse / touchscreen user this is a button...<br>but what about <strong>keyboard users?</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<div>
	<img src="pictures/faked-button.png" alt="">
	<pre><code>&lt;div <mark>tabindex="0"</mark> onclick="..."&gt;Test&lt;/div&gt;</code></pre>
	<p><small><a target=_blank href="../demos/button/index-keyboard-focus.html">faked button with focus</a></small></p>
	<p>now we can at least focus it...<strong>but can we activate it?</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<div>
	<img src="pictures/faked-button.png" alt="">
	<pre><code>&lt;div tabindex="0" <mark>onkeyup="..."</mark> onclick="..."&gt;Test&lt;/div&gt;</code></pre>
	<p><small><a target=_blank href="../demos/button/index-keyboard-focus-handler.html">faked button with focus and keyboard handling</a></small></p>
	<p>for a sighted mouse / touchscreen / keyboard user this is a button...<br>but what about <strong>assistive technology users?</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide code"><div>
<div>
	<img src="pictures/faked-button.png" alt="">
	<p>compare <code>&lt;div&gt;</code> to a real <code>&lt;button&gt;</code></p>
	<p><small><a target=_blank href="../demos/button/index-keyboard-focus-handler.html">faked button</a> versus <a target=_blank href="../demos/button/index-real-button.html">real <code>&lt;button&gt;</code></a></small></p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p><strong>"test"</strong><br>versus<br><strong>"test button – to activate press <kbd>SPACE</kbd> bar"</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>the problem</h3>
	<p>generic/inappropriate HTML elements, with extra JavaScript/CSS on top...but they're still recognised and exposed as <code>&lt;span&gt;</code>, <code>&lt;div&gt;</code>, etc</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
	<div>
		<p>the interplay of browser and assistive technology</p>
	</div>
	</div></section>
	
<!-- -->

<section class="slide"><div>
	<img src="pictures/accessibilityAPI.png" alt="Diagram: when focused on an element, such as a button, the browser exposes information (name, value, role, state, description) to the OS accessibility API, which in turn is accessed by assistive technologies like JAWS">
	<p>Operating systems provide interfaces that expose information about objects and events to assistive technologies<br>
	(e.g. Microsoft Active Accessibility [MSAA], the Mac OS X Accessibility Protocol [AXAPI], IAccessible2 [IA2])</p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>Accessibility Tree</h3>
	<p>separate from the DOM, browsers build a matching "accessibility tree":</p>
	<ul>
		<li>representation of the page/document using platform's accessibility API conventions</li>
		<li>kept in sync with the DOM (changes to DOM also trigger changes in the accessibility tree)</li>
		<li>this is what the browser exposes to the system's accessibility API and what (modern) assistive technologies interact with</li>
	</ul>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/dom-and-accessibility-tree.png" alt="Comparison of a typical DOM structure and the matching accessibility tree structure">
	<p>a typical DOM (as shown in a browser's developer tools, which simplifies some aspects like text nodes) and the matching accessibility tree</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/marcozehe-accessibility-apis.png" alt="">
	<p><a target=_blank href="https://www.marcozehe.de/2013/09/07/why-accessibility-apis-matter/">Marco Zehe: Why accessibility APIs matter</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2><strong>assistive</strong> technologies</h2>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>assistive technologies</h3>
	<ul>
	<li>NVDA (free)</li>
	<li>Narrator (free)</li>
	<li>JAWS</li>
	<li>ZoomText</li>
	<li>Dragon NaturallySpeaking</li>
	<li>VoiceOver (free)</li>
	<li>TalkBack (free)</li>
	<li>...</li>
	</ul>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2><strong>inspection</strong> tools</h2>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>inspection tools</h3>
	<p>test using assistive technologies (e.g. screenreaders), however...</p>
	<p>assistive technologies often use heuristics to repair incomplete/broken accessibility API information - so we want to check what's actually exposed to the OS/platform.</p>
	<p>of course, browsers also have bugs/incomplete support...</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/firefox-accessibility-inspector.png" alt="Firefox Accessibility Inspector panel in Firefox Developer Tools, showing the accessibility tree and accessibility properties - exposed by Firefox to the platform/OS accessibility API - of an element in a page">
	<p><a target=_blank href="https://developer.mozilla.org/en-US/docs/Tools/Accessibility_inspector">Firefox Accessibility Inspector</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/chrome-devtools-accessibility-panel.png" alt="Chrome DevTools' accessibility panel, showing the accessibility tree and accessibility properties - exposed by Chrome to the platform/OS accessibility API - of an element in a page">
	<p><a target=_blank href="https://developer.chrome.com/docs/devtools/accessibility/reference/#pane">Chrome DevTools Accessibility pane</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/chrome-devtools-accessibility-tree.png" alt="Chrome DevTools' full accessibility tree, showing the accessibility tree and accessibility properties - exposed by Chrome to the platform/OS accessibility API - of an element in a page">
	<p><a target=_blank href="https://developer.chrome.com/docs/devtools/accessibility/reference/#explore-tree">Chrome DevTools (Preview) Explore the full-page accessibility tree</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/safari-web-inspector-accessibility-panel.png" alt="Safari's Web Inspector, showing a separate 'Accessibility' section under its 'Node' inspection sidebar, listing basic information such as the current node's computed role">
	<p><a target=_blank href="https://webkit.org/web-inspector/elements-tab/">Web Inspector Elements tab</a></p>
</div></section>

<!-- -->

<section class="slide code"><div>
<div>
	<img src="pictures/faked-button.png" alt="">
	<p>compare <code>&lt;div&gt;</code> to a real <code>&lt;button&gt;</code></p>
	<p><small><a target=_blank href="../demos/button/index-keyboard-focus-handler.html">faked button</a> versus <a target=_blank href="../demos/button/index-real-button.html">real <code>&lt;button&gt;</code></a></small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/chrome-devtools-button-faked.png" alt="Chrome Developer Tools' accessibility panel, showing that the faked button is exposed as a simple 'div'">
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/chrome-devtools-button-real.png" alt="Chrome Developer Tools' accessibility panel, showing that a real button element is exposed with a role of 'button'">
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>if you use custom (not standard HTML) widgets,<br>use <strong>ARIA</strong> to ensure correct info is exposed</p>
</div>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2>what is <strong>ARIA</strong>?</h2>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-aria.png" alt="">
	<p><a target=_blank href="https://www.w3.org/TR/wai-aria/">W3C - Accessible Rich Internet Applications (WAI-ARIA) 1.1</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
<p>ARIA defines HTML attributes to convey correct role, state, properties and value</p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/diagram-aria.png" alt="Diagram: ARIA defines 'role' and 'aria-*' attributes">
	<p>at a high level, ARIA defines various <code>role</code> and <code>aria-*</code> attributes that can be added to your markup</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/aria-rdf-model.png" alt="Diagram: the complete (and complex) ARIA RDF model">
	<p><a target=_blank href="https://www.w3.org/TR/wai-aria/#roles_categorization">W3C - WAI-ARIA 1.1 - 5.3 Categorization of Roles</a></p>
	<p>the whole model is vast and complex...and thankfully you don't need to remember this</p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>Roles are categorized as follows:</h3>
	<ul>
	<li><strong>Abstract Roles:</strong> never used in markup directly - they serve only for the categorization/definitions</li>
	<li><strong>Widget Roles:</strong> interactive controls - simple or composite (made up of various components)</li>
	<li><strong>Document Structure Roles:</strong> define what content/structures represent (e.g. headings, lists, groups)</li>
	<li><strong>Landmark Roles:</strong> identify key parts of a document/page</li>
	<li><strong>Live Region Roles:</strong> special areas of the page whose content is dynamically updated and should be announced by AT</li>
	<li><strong>Window Roles:</strong> content that acts as a separate window (dialogs)</li>
	</ul>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/aria1.1-button-definition.png" alt="Screenshot: the complete definition for the 'button' role in ARIA 1.1, listing - among other things - its 'Supported States and Properties' and 'Inherited States and Properties'">
	<p><small>each role has "states and properties" (e.g. <a target=_blank href="https://www.w3.org/TR/wai-aria/#button">ARIA 1.1 definition for <code>button</code></a>)</small><br><small>implicit/inherited or defined via <code>aria-*</code> attributes</small></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
	<div>
	<p>this is all complex and confusing...</p>
	</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/karlgroves-whatisthisthingandwhatdoesitdo.png" alt="Screenshot: video of the presentation by Karl Groves">
	<p>as my former colleague Karl Groves succinctly put it,<br>ARIA helps answer the questions:<br>
	<a target=_blank href="https://www.youtube.com/watch?v=YLihNhn_MO4" title="YouTube: Karl Groves - What is this thing and what does it do?">what is this thing and what does it do?</a></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
<h3>what information does ARIA provide?</h3>
<ul>
<li><strong>role:</strong> what type of "thing" is this? (e.g. 'button', 'main content')</li>
<li><strong>state:</strong> what is its situation?  (e.g. 'disabled', 'checked', 'expanded')</li>
<li><strong>name:</strong> what is its name/label?</li>
<li><strong>relationship:</strong> is it tied to any other elements in the page somehow?</li>
</ul>
<p>this information is mapped by the browser to the operating system's accessibility API and exposed to assistive technologies.</p>
<p>extra benefit: once AT understands meaning/purpose, it can automatically announce specific hints and prompts<br>(e.g. JAWS "... button - to activate, press <kbd>SPACE</kbd> bar")</p>
</div></section>

<!-- -->

<section class="slide code"><div>
<div>
	<img src="pictures/faked-button.png" alt="">
	<pre><code>&lt;div tabindex="0"
<mark>role="button"</mark> onkeyup="..."
onclick="..."&gt;Test&lt;/div&gt;</code></pre>
	<p><small><a target=_blank href="../demos/button/index-keyboard-focus-handler-role.html">faked button with appropriate role</a></small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/chrome-devtools-button-faked-aria.png" alt="Chrome Developer Tools' accessibility panel, showing that a faked button using a 'div', but with correct role=button, is exposed the same way as a native HTML 'button' element">
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>use ARIA to:</h3>
	<ul>
	<li>make custom widgets understandable to assistive technology users</li>
	<li>programmatically indicate relationships between elements</li>
	<li>notify users of dynamic updates</li>
	<li>hide irrelevant visible content from assistive technology</li>
	<li>remediation of inaccessible content without completely recoding</li>
	</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>ARIA roles and attributes: restrictions</h3>
	<ul>
	<li>certain <code>role</code>s only make sense as part of a specific complex widget</li>
	<li>some <code>aria-*</code> attributes are global</li>
	<li>other <code>aria-*</code> attributes only make sense for particular <code>role</code></li>
	<li>not all roles/attributes are supported/implemented consistently everywhere</li>
	</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>what ARIA <strong>doesn't</strong> do...</h3>
	<p>ARIA is <strong>not magic</strong>: it only changes how <strong>assistive technology</strong> interprets content. specifically, <strong>ARIA does not</strong>:</p>
	<ul>
	<li>make an element focusable</li>
	<li>provide appropriate keyboard bindings</li>
	<li>change browser behavior</li>
	<li>automatically maintain/update properties</li>
	<li>change visible appearance</li>
	</ul>
	<p>all of this is still your responsibility...</p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h4><strong>no ARIA</strong> is better than <strong>bad ARIA</strong></h4>
	<ul>
	<li>ARIA roles/attributes are a "promise" to users / assistive technologies (e.g. "this component is actually a button...") – you must ensure that it then behaves correctly</li>
	<li>if you're not sure how to represent a particular complex widget or control, don't just throw ARIA roles and attributes at your markup – you're more likely to make things worse / more confusing / non-functional for assistive technology users</li>
	</ul>
	<p><small><a href="https://www.w3.org/WAI/ARIA/apg/practices/read-me-first/#x2-1-no-aria-is-better-than-bad-aria">W3C - ARIA Authoring Practices Guide (APG)</a></small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-aria-authoring-practices.png" alt="">
	<p>WAI-ARIA spec can be dry/technical - use for reference<br><a target=_blank href="https://www.w3.org/WAI/ARIA/apg/">W3C - ARIA Authoring Practices Guide (APG)</a> is more digestible.</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>in principle ARIA can be used in all markup languages<br><small>(depending on <strong>browser support</strong>)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/tpgi-aria-in-svg.png" alt="">
	<p><a target=_blank href="tps://www.tpgi.com/using-aria-enhance-svg-accessibility/">Using ARIA to enhance SVG accessibility</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>...but we'll just focus on<br><strong>ARIA in HTML</strong></p>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="./pictures/sites/w3c-html-aria.png" alt="">
	<p><a target=_blank href="https://www.w3.org/TR/html-aria/">W3C - ARIA in HTML</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="./pictures/sites/w3c-using-aria.png" alt="">
	<p><a target=_blank href="https://www.w3.org/TR/using-aria/">W3C - Using ARIA</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h2>the <strong>5 rules</strong> of ARIA use</h2>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>1. <strong>don't use</strong> ARIA</h3>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/aria-club.jpg" alt="Fight Club spoof picture, with Steve Faulkner: The first rule of ARIA club is...you don't use ARIA">
</div></section>

<!-- -->

<section class="slide listing"><div>
	<blockquote><p>If you can use a native HTML element [<a target=_blank href="https://www.w3.org/TR/html/">HTML5</a>] or attribute with the semantics and behaviour you require already built in, instead of re-purposing an element and adding an ARIA role, state or property to make it accessible, then do so.</p></blockquote>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<p>you <strong>can</strong> use a <code>&lt;span&gt;</code> to behave as, and be exposed just like, a link...</p>
<pre><code>
&lt;span tabindex="0" <mark>role="link"</mark>
      onclick="document.location='...'"
      <mark>onkeyup="..."</mark>&gt;link&lt;/span&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/structure/role-link.html">link</a></p>
<p>...but <strong>why would you?</strong></p>
<p>unless there's a very good reason, just use <code>&lt;a href="..."&gt;...&lt;/a&gt;</code></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>2. <strong>don't change</strong> native semantics</h3>
	<p><small>unless you really have to / know what you're doing</small></p>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
	<p>don't do this:</p>
	<pre><code class="html">&lt;h1 role="button"&gt;heading button&lt;/h1&gt;</code></pre>
	<p>otherwise the heading is no longer a heading<br>(e.g. AT users can't navigate to it quickly)</p>
	<p>you can do this instead:</p>
	<pre><code class="html">&lt;h1&gt;&lt;span role="button"&gt;heading button&lt;/span&gt;&lt;/h1&gt;</code></pre>
	<p>or, in accordance with the first rule or ARIA:</p>
	<pre><code class="html">&lt;h1&gt;&lt;button&gt;heading button&lt;/button&gt;&lt;/h1&gt;</code></pre>
	<p>example: <a target=_blank href="../demos/rules-of-aria/button-heading.html">heading button</a></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
	<p>don't do this:</p>
<pre><code class="html">&lt;ul role="navigation"&gt;
    &lt;li&gt;&lt;a href="..."&gt;...&lt;/a&gt;&lt;/li&gt;
    ...
&lt;/ul&gt;
</code></pre>
<p>do this instead:</p>
<pre><code class="html">&lt;div role="navigation"&gt;
    &lt;ul&gt;
        &lt;li&gt;&lt;a href="..."&gt;...&lt;/a&gt;&lt;/li&gt;
        ...
    &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<p>or list is no longer a list (e.g. AT won't say "list with X items...")</p>
<p>example: <a target=_blank href="../demos/rules-of-aria/list-navigation.html">list navigation</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>3. make interactive ARIA controls <strong>keyboard accessible</strong></h3>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<p>All interactive widgets must be focusable and scripted to respond to standard key strokes or key stroke combinations where applicable. [...]</p>
	<p>Refer to the <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/">keyboard and structural navigation</a> and <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/patterns/">design patterns</a> sections of the <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/">ARIA Authoring Practices Guide</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>4. <strong>don't "neutralise"</strong> focusable elements</h3>
</div>
</div></section>

<!-- -->

<section class="slide listing code"><div>
	<p>don't use <code>role="presentation"</code> or <code>aria-hidden="true"</code> on a visible focusable element. Otherwise, users will navigate/focus onto "nothing".</p>
<pre><code class="html">
&lt;!-- don't do this... --&gt;

&lt;button role="presentation"&gt;press me&lt;/button&gt;

&lt;button aria-hidden="true"&gt;press me&lt;/button&gt;

&lt;span tabindex="0" aria-hidden="true"&gt;...&lt;/span&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/rules-of-aria/neutralised-elements.html">neutralised elements</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/chrome-devtools-aria-hidden.png" alt="Screenshot of Chrome Developer Tools' accessibility panel, showing how aria-hidden elements, and elements whose ancestor is aria-hidden, are denoted">
	<p>Chrome DevTools indicates when a node is hidden<br>(directly, or due to an ancestor being hidden)</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/firefox-accessibility-inspector-aria-hidden.png" alt="Screenshot of Firefox accessibility inspector - aria-hidden nodes are not shown at all in the accessibility tree representation">
	<p><code>aria-hidden</code> removes nodes from the accessibility tree<br>(as seen here in Firefox's accessibility inspector)</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>5. interactive elements <strong>must have an accessible name</strong></h3>
</div>
</div></section>

<!-- -->

<section class="slide listing code"><div>
<pre><code class="html">
&lt;!-- don't do this... --&gt;

&lt;span tabindex="0" role="button"&gt;
    &lt;span class="glyphicon glyphicon-remove"&gt;&lt;/span&gt;
&lt;/span&gt;
</code></pre>
</div></section>

<!-- -->

<section class="slide listing code"><div>
	
<pre><code class="html">
&lt;span tabindex="0" role="button"&gt;
    &lt;span class="glyphicon glyphicon-remove"&gt;
        <mark>&lt;span class="..."&gt;Delete&lt;/span&gt;</mark>
    &lt;/span&gt;
&lt;/span&gt;

&lt;span tabindex="0" role="button" <mark>title="Delete"</mark>&gt;
    &lt;span class="glyphicon glyphicon-remove"&gt;&lt;/span&gt;
&lt;/span&gt;
</code></pre>
	<p>refer to <a target=_blank href="https://www.w3.org/TR/wai-aria/#namecalculation">WAI-ARIA 1.1 - 5.2.7. Accessible Name Calculation</a></p>
</div></section>

<!-- -->

<section class="slide listing code"><div>
	
<pre><code class="html">
&lt;span tabindex="0" role="button" <mark>aria-label="Delete"</mark>&gt;
    &lt;span class="glyphicon glyphicon-remove"&gt;&lt;/span&gt;
&lt;/span&gt;

&lt;span tabindex="0" role="button" <mark>aria-labelledby="..."</mark>&gt;
    &lt;span class="glyphicon glyphicon-remove"&gt;&lt;/span&gt;
&lt;/span&gt;
...
&lt;span id="<mark>...</mark>" class="..."&gt;Delete&lt;/span&gt;
</code></pre>
	<p>refer to <a target=_blank href="https://www.w3.org/TR/wai-aria/#namecalculation">WAI-ARIA 1.1 - 5.2.7. Accessible Name Calculation</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/chrome-devtools-accessibility-panel-accessible-name.png" alt="Screenshot of Chrome Developer Tools' accessibility panel, showing details about which attributes - content, title, aria-label, aria-labelledby - contribute to the element's name">
	<p>Chrome DevTools' accessibility panel can help understand which attributes contribute to an element's name</p>
	<p>example: <a target=_blank href="../demos/accessible-name-calculation/">accessible name calculation</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/tpgi-short-note-on-aria-label.png" alt="">
	<p>side note: <code>aria-label</code> / <code>aria-labelledby</code> / <code>aria-describedby</code> and arbitrary elements<br><small>(see <a href="https://www.tpgi.com/short-note-on-aria-label-aria-labelledby-and-aria-describedby/">Short note on aria-label, aria-labelledby, and aria-describedby</a>)</small></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2>ARIA and <strong>HTML5</strong></h2>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>ARIA and HTML5</h3>
	<ul>
		<li>ARIA is used when building things that native HTML can't do</li>
		<li>for many years, ARIA was a "bridging technology" to overcome HTML semantic limitations</li>
		<li>HTML5 introduced new elements, element types, attributes that solve some of these situations</li>
		<li>there are still things that HTML can't express, so ARIA is here to stay...</li>
	</ul>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/html5-slider.png" alt="Using Chrome DevTools' accessibility panel we see that a native HTML5 input with type='range' is exposed correctly as a 'slider'">
	<p>example: <a target=_blank href="../demos/slider/">HTML5 range input</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-html-accessibility-api-mappings.png" alt="">
	<p><a target=_blank href="https://www.w3.org/TR/html-aam-1.0/">W3C HTML Accessibility API Mappings 1.0</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/w3c-html5-wai-aria.png" alt="">
	<p>of course you can (and for many complex widgets, must) still use<br><a target=_blank href="https://www.w3.org/TR/html/dom.html#wai-aria" title="WAI-ARIA section in W3C HTML5 Specification">WAI-ARIA in HTML5</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/w3c-validator-html5-aria.png" alt="W3C Validator result, showing an error for an inappropriately used ARIA role">
	<p>side note: you can validate pages with (static) ARIA <a target=_blank href="https://validator.w3.org/">validator.w3.org</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2>common <strong>structures</strong> and <strong>widgets</strong></h2>
	<p><small>(not an exhaustive list - enough to understand concepts)</small></p>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>using ARIA to provide <strong>structure</strong></h3>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;p class="1" <mark>role="heading"</mark> <mark>aria-level="1"</mark>&gt;Heading 1&lt;/p&gt;
...
&lt;p class="h2" <mark>role="heading"</mark> <mark>aria-level="2"</mark>&gt;Heading 2&lt;/p&gt;
...
&lt;p class="h3" <mark>role="heading"</mark> <mark>aria-level="3"</mark>&gt;Heading 3&lt;/p&gt;
...
</code></pre>
<p>example: <a target=_blank href="../demos/structure/role-heading.html">headings</a></p>
<ul>
<li>add <code>role="heading"</code></li>
<li>if more than one hierarchical level, and can't be inferred from structure, add explicit <code>aria-level</code></li>
</ul>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;div <mark>role="list"</mark>&gt;
    &lt;div <mark>role="listitem"</mark>&gt;...&lt;/div&gt;
    &lt;div <mark>role="listitem"</mark>&gt;...&lt;/div&gt;
    &lt;div <mark>role="listitem"</mark>&gt;...&lt;/div&gt;
    ...
&lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/structure/role-list.html">list/listitem</a></p>
<ul>
<li>add <code>role="list"</code> and <code>role="listitem"</code></li>
<li>generally more complex (big markup structures that boil down to essentially "a list of things...")</li>
</ul>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<p><code>&lt;img&gt;</code> is identified as an image by assistive technologies, and you can provide alternative text.</p>
<pre><code>
&lt;img src="..." alt="alternative text"&gt;
</code></pre>
<p>if you're using embedded <code>&lt;svg&gt;</code>, use ARIA to achieve the same:</p>
<pre><code>
&lt;svg <mark>role="img"</mark> <mark>aria-label="alternative text"</mark>&gt; ... &lt;/svg&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/image/index.html">embedded SVG image</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h4>removing semantics</h4>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
	<p>if your page/app uses inappropriate markup, ARIA can be used to remove semantic meaning. useful for remediation if markup cannot be changed.</p>
	<pre><code>
&lt;table <mark>role="presentation"</mark>&gt;
    &lt;tr&gt;
        &lt;td&gt;Layout column 1&lt;/td&gt;
        &lt;td&gt;Layout column 2&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;</code></pre>
	<p>example: <a target=_blank href="../demos/structure/remediation-layout-table.html">layout table remediation</a></p>
	<p>ARIA 1.1 introduced <code>role="none"</code> as an alias for <code>role="presentation"</code> – they are equivalent (and older browsers/AT likely better off still using <code>role="presentation"</code>)</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h4>landmarks</h4>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/blog-structure-before.png" alt="Classic blog structure using div elements with id attributes 'header', 'sidebar', 'content', 'footer' and individual posts marked up with div elements given class name 'post'">
	<p>adapted from <a target=_blank href="http://html5doctor.com/designing-a-blog-with-html5/">HTML5 Doctor - Designing a blog with html5</a></p>
	<p>example: <a target=_blank href="../demos/landmarks/blog-structure-before.html">blog structure</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/blog-structure-after-aria.png" alt="Classic blog structure using div elements, now complemented with ARIA role attributes 'banner', 'navigation', 'main', 'contentinfo' and individual posts with role of 'article'">
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h5>why define landmarks?</h5>
	<ul>
	<li>users of assistive technologies can more easily find areas of your page/app</li>
	<li>AT keyboard controls to navigate to/between landmarks</li>
	<li>overview dialogs listing all landmarks (e.g. NVDA)</li>
	</ul>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/blog-structure-after-aria-nvda-combined.png" alt="Illustration of how the blog structure with ARIA role attributes is listed in NVDA's Elements List > Landmarks">
	<p>example: <a target=_blank href="../demos/landmarks/blog-structure-after-aria.html">blog structure with ARIA</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<p>doesn't <strong>HTML5</strong> solve this?</p>
</div>
</div></section>

<section class="slide"><div>
	<img src="pictures/blog-structure-after-html5.png" alt="Classic blog structure, recoded using HTML5 structural elements: header, nav, main, article, footer">
	<p>adapted from <a target=_blank href="http://html5doctor.com/designing-a-blog-with-html5/">HTML5 Doctor - Designing a blog with html5</a></p>
	<p>example: <a target=_blank href="../demos/landmarks/blog-structure-after-html5.html">blog structure with HTML5</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/blog-structure-after-html5-nvda-combined.png" alt="Illustration of how the blog structure with HTML5 structural elements is listed in NVDA's Elements List > Landmarks">
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>using ARIA for<br><strong>simple/standalone widgets</strong></h3>
</div>
</div></section>

<!-- -->

<section class="slide cover impact"><div>
    <div><p>my JavaScript sucks...<br><small>(but will hopefully convey the right concepts)</small></p></div>
    <img src="pictures/background-danger-415-volts.jpg" class="cover" alt="Warning sign with lightning bolt and text: Danger 415 volts">
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h4>button</h4>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;span class="..."&gt;Button?&lt;/span&gt;

&lt;div class="..."&gt;Button?&lt;/div&gt;

&lt;a href="#" class="..."&gt;Button?&lt;/a&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/button/">button</a></p>
<p>while using a link is slightly less evil, as at least it receives keyboard focus by default, it's still not correct: links are meant for <strong>navigation</strong>, not in-page actions or form submissions</p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;span <mark>tabindex="0"</mark> class="..." <mark>role="button"</mark>&gt;Button!&lt;/span&gt;

&lt;div <mark>tabindex="0"</mark> class="..." <mark>role="button"</mark>&gt;Button!&lt;/div&gt;

&lt;a href="#" class="..." <mark>role="button"</mark>&gt;Button!&lt;/a&gt;
</code></pre>
<ul>
<li>add <code>role="button"</code></li>
<li>make sure it's focusable</li>
<li>add handling of <kbd>SPACE</kbd> (and in some cases <kbd>ENTER</kbd>)</li>
</ul>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<p>assuming there's a <code>click</code> handler:</p>
<pre><code class="js">
foo.addEventListener('keyup', function(e) {
  // Space or Enter key
  if (e.key === " " || e.key === "Enter") {
    // stop default behavior (usually, scrolling)
    e.preventDefault();
    // trigger the existing click behavior
    this.click();
  }
});
</code></pre>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<p>you could even do it "in one go" for all your faked buttons, assuming they have the correct <code>role="button"</code>, with <code>querySelectorAll</code> and attribute selectors:</p>
<pre><code class="js">
var buttons = document.querySelectorAll("[role='button']");
for (var i=0; i&lt;buttons.length; i++) {
  buttons[i].addEventListener('keyup', function(e) {
    if (e.key === " " || e.key === "Enter") {
      e.preventDefault();
      this.click();
    }
  });
}
</code></pre>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h4>toggle button</h4>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<ul>
	<li>default HTML does not offer a simple on/off toggle</li>
	<li><a target=_blank href="../demos/toggle/index-faked-checkbox.html">"CSS only" <code>&lt;input type="checkbox"&gt;</code> hacks</a> – but these may be confusing to AT users/not always appropriate</li>
	<li>ARIA can be used to <strong>enhance</strong> native elements – start off with closest match, like an actual <code>&lt;button&gt;</code>, and extend from there</li>
	</ul>
</div></section>

<!-- -->

<section class="slide code listing"><div>
	<p>let's assume we implement this with JavaScript to purely add a CSS classname:</p>
<pre><code>
&lt;button class="..."&gt;Toggle&lt;/button&gt;

&lt;button class="... <mark>toggled</mark>"&gt;Toggle&lt;/button&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/toggle/">toggle</a></p>
<p><small>in real applications, you'll likely keep track of the state in some additional way – this is only for illustrative purposes</small></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;button class="..." <mark>aria-pressed="false"</mark>&gt;Toggle&lt;/button&gt;
&lt;button class="... <mark>toggled</mark>" <mark>aria-pressed="true"</mark>&gt;Toggle&lt;/button&gt;
</code></pre>
<pre><code>foo.getAttribute("aria-pressed");
foo.setAttribute("aria-pressed", "true");
foo.setAttribute("aria-pressed", "false");
</code></pre>
<p>add <code>aria-pressed</code> and dynamically change its value</p>
<p>example: <a target=_blank href="../demos/toggle/index-aria.html">toggle with <code>aria-pressed</code></a></p>
<ul>
<li>these are <em>HTML attributes</em> and must be read/written using <code>getAttribute()</code> / <code>setAttribute()</code></li>
<li>and even boolean attributes take <em>string</em> values</li>
</ul>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;button class="... <mark><del>toggled</del></mark>" <mark>aria-pressed="true"</mark>&gt;Toggle&lt;/button&gt;</code></pre>
<pre><code class="css"><del>button.toggled { ... }</del>
button[aria-pressed="true"] { ... }
</code></pre>
<ul>
<li>bonus: <strong>use CSS attribute selectors</strong> – no need for extra CSS class (this also helps debugging – easier to spot visually when ARIA roles/properties aren't correctly set)</li>
</ul>
<p>example: <a target=_blank href="../demos/toggle/index-aria-css.html">toggle with <code>aria-pressed</code> and simplified CSS</a></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<p>if your actual label text changes when toggling, <code>aria-pressed</code> is likely not necessary (could actually be more confusing for user)</p>
<pre><code>
&lt;button ...&gt;Mute&lt;/button&gt;</code></pre>
<pre><code>if (...) {
    this.innerHTML = "Mute";
    ...
} else {
    this.innerHTML = "Unmute";
    ...
}</code></pre>
<p>example: <a target=_blank href="../demos/toggle/index-aria-css-namechange.html">toggle with a changing name/label <em>and</em> ARIA</a> versus <a target=_blank href="../demos/toggle/index-namechange.html">toggle with a changing name/label only</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h4>checkbox</h4>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;span tabindex="0" class="..."&gt;Option&lt;/span&gt;

&lt;span tabindex="0" class="... checked"&gt;Option&lt;/span&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/checkbox/">checkbox</a></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code class="html">
&lt;span tabindex="0" <mark>role="checkbox"</mark>
      <mark>aria-checked="false"</mark> class="..."&gt;Option&lt;/span&gt;

&lt;span tabindex="0" <mark>role="checkbox"</mark>
      <mark>aria-checked="true"</mark> class="... checked"&gt;Option&lt;/span&gt;
</code></pre>
<ul>
<li>add <code>role="checkbox"</code></li>
<li>make sure it's focusable</li>
<li>add handling of <kbd>SPACE</kbd></li>
<li>add <code>aria-checked</code> and dynamically change its value</li>
</ul>
<p>example: <a target=_blank href="../demos/checkbox/index-aria.html">checkbox with <code>aria-checked</code></a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h4>radio button</h4>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;span tabindex="0" class="..."&gt;Yes&lt;/span&gt;
&lt;span tabindex="0" class="... selected"&gt;No&lt;/span&gt;
&lt;span tabindex="0" class="..."&gt;Maybe&lt;/span&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/radio/">radio button</a></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code class="html">
&lt;span tabindex="0" <mark>role="radio"</mark>
      <mark>aria-checked="false"</mark> class="..."&gt;Yes&lt;/span&gt;
&lt;span tabindex="0" <mark>role="radio"</mark>
      <mark>aria-checked="true"</mark> class="... selected"&gt;No&lt;/span&gt;
&lt;span tabindex="0" <mark>role="radio"</mark>
      <mark>aria-checked="false"</mark> class="..."&gt;Maybe&lt;/span&gt;
</code></pre>
<ul>
<li>add <code>role="radio"</code></li>
<li>add handling of <kbd>SPACE</kbd> and cursor keys</li>
<li>add <code>aria-checked</code> and dynamically change its value</li>
<li><em>should</em> be contained inside <code>role="radiogroup"</code> (cfr. <code>&lt;fieldset&gt;</code>)</li>
</ul>
<p>example: <a target=_blank href="../demos/radio/index-aria.html">radio button with ARIA</a> (but note incomplete focus handling)</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
	<div>
		<h4>disclosure widget</h4>
	</div>
</div></section>
	
<!-- -->

<section class="slide code listing"><div>
<pre><code>&lt;button ...&gt;More details&lt;/button&gt;
&lt;div class="show" ...&gt; ... &lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/disclosure/">disclosure widget</a></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>&lt;button ... <mark>aria-expanded="true"</mark>
    <mark>aria-controls="disclosure1"</mark>&gt;More details&lt;/button&gt;
&lt;div class="show" ... id="disclosure1"&gt; ... &lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/disclosure/index-aria.html">disclosure widget with <code>aria-expanded</code> / <code>aria-controls</code></a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
	<div>
		<h4>accordion</h4>
	</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<ul>
	<li>ARIA Practices 1.0 suggested using a tab panel pattern (we'll briefly look at this in a moment)</li>
	<li>ARIA Authoring Practices Guide is more pragmatic: an accordion is seen simply as a series of disclosure widgets (see <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/patterns/accordion/">ARIA Authoring Practices Guide - Accordion</a>)</li>
	</ul>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>&lt;button ... <mark>aria-expanded="true"</mark>
    <mark>aria-controls="accordion1"</mark>&gt;Item 1&lt;/button&gt;
&lt;div class="show" ... id="accordion1"&gt; ... &lt;/div&gt;

&lt;button ... <mark>aria-expanded="false"</mark>
    <mark>aria-controls="accordion2"</mark>&gt;Item 2&lt;/button&gt;
&lt;div class="show" ... id="accordion2"&gt; ... &lt;/div&gt;

&lt;button ... <mark>aria-expanded="false"</mark>
    <mark>aria-controls="accordion3"</mark>&gt;Item 3&lt;/button&gt;
&lt;div class="show" ... id="accordion3"&gt; ... &lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/accordion/index-aria.html">accordion using disclosure widgets</a></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h4>modal dialog</h4>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;button&gt;Launch...&lt;/button&gt;
...
&lt;div ... &gt;
    &lt;div&gt;My custom dialog&lt;/div&gt;
    ...
&lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/modal/">modal dialog</a></p>
<p>...but focus handling is not really correct...</p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<ul>
	<li>when triggered, focus should move to the dialog</li>
	<li>focus should be maintained inside the dialog</li>
</ul>
<p>example: <a target=_blank href="../demos/modal/index-focus.html">modal dialog with focus management</a></p>
<p>...but for assistive tech users, it's still not clear what is happening...</p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;button&gt;Launch...&lt;/button&gt;
...
&lt;div <mark>role="dialog"</mark>
     <mark>aria-labelledby="modalDialogHeader"</mark>
     <mark>aria-describedby="modalDialogDescription"</mark> ... &gt;
  &lt;div id="modalDialogHeader"&gt;My custom dialog&lt;/div&gt;
  &lt;div id="modalDialogDescription"&gt;
    ... 
  &lt;/div&gt;
  ...
&lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/modal/index-focus-aria.html">modal dialog with focus management and ARIA</a></p>
<p>...almost perfect, but assistive tech users can still navigate out of the modal...</p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>&lt;div id="wrapper"&gt;
  &lt;button&gt;Launch...&lt;/button&gt;
&lt;/div&gt;
...
&lt;div <mark>role="dialog"</mark> ...&gt; ... &lt;/div&gt;</code></pre>
<pre><code class="js">function openModal() {
 document.getElementById("wrapper")
         .setAttribute("aria-hidden","true"); ...
}
function closeModal() {
 document.getElementById("wrapper")
        .removeAttribute("aria-hidden"); ...
}</code></pre>
<p>example: <a target=_blank href="../demos/modal/index-focus-aria-hidden.html">modal dialog with aria-hidden</a></p>
<p>note: <code>aria-hidden</code> does <strong>not</strong> prevent regular keyboard focus!</p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code class="js">function openModal() {
 document.getElementById("wrapper").setAttribute("inert","");
 ...
}
function closeModal() {
 document.getElementById("wrapper").removeAttribute("inert");
 ...
}</code></pre>
<p>example: <a target=_blank href="../demos/modal/index-aria-inert.html">modal dialog with inert</a></p>
<p>note: <code>inert</code> <strong>does</strong> hide elements from accessibility tree <em>and</em> remove behavior such as keyboard focusability. however, not natively supported yet – use the <a target=_blank href="https://github.com/WICG/inert">inert polyfill</a></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;button&gt;Launch...&lt;/button&gt;
...
&lt;div role="dialog" <mark>aria-modal="true"</mark>
     aria-labelledby="modalDialogHeader"
     aria-describedby="modalDialogDescription" ... &gt;
  &lt;div id="modalDialogHeader"&gt;My custom dialog&lt;/div&gt;
  &lt;div id="modalDialogDescription"&gt;
    ... 
  &lt;/div&gt;
  ...
&lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/modal/index-focus-aria-modal.html">modal dialog with <code>aria-modal</code></a> (new in ARIA 1.1)</p>
<p>...but you still need to do the focus management yourself...</p>
<p>see also: <a target=_blank href="https://www.tpgi.com/the-current-state-of-modal-dialog-accessibility/">Scott O'Hara: The current state of modal dialog accessibility</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2>managing focus</h2>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>complex widgets and focus</h3>
	<ul>
	<li>some complex widgets (group of radio buttons, menus, listboxes, tab lists) only have a single "tab stop"</li>
	<li>focus/interactions within the widget are handled programmatically</li>
	<li><kbd>TAB</kbd>/<kbd>SHIFT</kbd>+<kbd>TAB</kbd> moves to the next widget, not to sub-components</li>
	</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<p>there are two approaches for focus:</p>
	<ul>
	<li><strong>roving <code>tabindex</code></strong>: only one element inside widget has <code>tabindex="0"</code>, all others <code>tabindex="-1"</code></li>
	<li><strong><code>aria-activedescendant</code></strong>: focus remains on the widget container (or one specific part of the widget), then the <code>aria-activedescendant</code> attribute points to the <code>id</code> of the "active" subcomponent</li>
	</ul>
	<p><a target=_blank href="https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#x6-6-keyboard-navigation-inside-components">ARIA Authoring Practices Guide - Keyboard Navigation Inside Components</a></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
	<pre><code class="html">
	&lt;span tabindex="-1" role="radio"
		  aria-checked="false" class="..."&gt;Yes&lt;/span&gt;
	&lt;span <mark>tabindex="0"</mark> role="radio"
		  <mark>aria-checked="true"</mark> class="... selected"&gt;No&lt;/span&gt;
	&lt;span tabindex="-1" role="radio"
		  aria-checked="false" class="..."&gt;Maybe&lt;/span&gt;
	</code></pre>
	<p>only one <code>radio</code> button inside the group has focus. changing the selection using <kbd>CURSOR</kbd> keys, dynamically changes <code>tabindex</code>, <code>aria-checked</code> and sets <code>focus()</code> on the newly selected <code>radio</code> button</p>
	<p>example: <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/example-index/radio/radio.html">ARIA Authoring Practices Guide - Radio Group Using Roving tabindex</a></p>
	</div></section>

<!-- -->

<section class="slide listing"><div>
	<p>not all complex widgets lend themselves to "roving" <code>tabindex</code> – e.g. <code>role="combobox"</code> needs <code>aria-activedescendant</code>, as actual focus must remain inside the textbox.</p>
	<p>example: <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/example-index/combobox/combobox-autocomplete-list.html">ARIA Authoring Practices Guide - Editable Combobox With List Autocomplete Example</a></p>
	<p>this approach can be complex, and not always supported by assistive technologies (particularly on mobile).</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2>live regions</h2>
</div>	
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>making assistive technology<br>aware of content changes</h3>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code class="html">&lt;div id="output"&gt;&lt;/div&gt;</code></pre>
<pre><code class="js">var o = document.getElementById("output");
o.innerHTML = "Surprise!"; // show the notification</code></pre>
<p>example: <a target=_blank href="../demos/liveregion-button/index.html">notification as result of button press</a></p>
<p>but how can AT users be made aware of the notification / content change?</p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<p>one way to notify users of assistive technologies of new content (a new element added to the page, made visible, a change in text) is to move <code>focus()</code> programmatically to it</p>
<pre><code class="html">
&lt;div id="output" <mark>tabindex="-1"</mark>&gt;&lt;/div&gt;</code></pre>
<pre><code class="js">var o = document.getElementById("output");
o.innerHTML = "Surprise!"; // show the notification
o.focus(); // move focus to the notification
</code></pre>
<p>but this is not always possible, as it would interrupt the user's current actions...</p>
<p>example: <a target=_blank href="../demos/liveregion-button/index-movefocus.html">notification via <code>focus()</code></a> and a more <a target=_blank href="../demos/liveregion-button/index-movefocus-problem.html">problematic example simulating a long-running function</a>.</p>
</div></section>

<!-- -->

<section class="slide listing"><div>
<h3>ARIA live regions</h3>
<ul>
<li>announce a change on content without moving focus to it</li>
<li><code>aria-live</code>: <code>off</code> (default), <code>polite</code>, <code>assertive</code></li>
</ul>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code class="html">&lt;div id="output" <mark>aria-live="polite"</mark>&gt;&lt;/div&gt;</code></pre>
<pre><code class="js">var o = document.getElementById("output");
o.innerHTML = "Surprise!"; // show the notification
</code></pre>
<p>example: <a target=_blank href="../demos/liveregion-button/index-liveregion.html">notification via <code>aria-live</code></a></p>
<p>bonus points: set <code>aria-disabled="true"</code> on the control, and optionally <code>aria-busy="true"</code> on the notification / section of the page that is getting updated. see <a target=_blank href="../demos/liveregion-button/index-liveregion-busy-disabled.html">notification via <code>aria-live</code>, with <code>aria-busy</code> and <code>aria-disabled</code></a></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<ul>
	<li>some <code>role</code>s have implicit live region (e.g. <code>role="status"</code> and <code>role="alert"</code>), as do some markup elements (e.g. <code>&lt;output&gt;</code>)</li>
	</ul>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;span <mark>role="status"</mark>&gt;
    some form of status bar message...
&lt;/span&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/liveregion-implicit/role-status.html">status bar</a></p>
<pre><code>
&lt;span <mark>role="alert"</mark>&gt;
    an alert message (no user interaction)
&lt;/span&gt;
</code></pre>
<p>example: <a target=_blank href="../demos/liveregion-implicit/role-alert.html">alert</a></p>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<p>ARIA live regions need to be <strong>"primed"</strong> first – the browser and AT need to realize there's a live region, and start watching for changes.</p>
	<ul>
		<li>sending something with <code>role="alert"</code> as part of your static HTML document has no effect – AT won't announce this when the page is loading</li>
		<li>creating a dynamic element with <code>aria-live="..."</code> or an implicit live region role and filling it with content right away will (depending on timing) usually not give browser/AT enough time to "see" the element and notice the change ... again resulting in no announcement</li>
	</ul>
	<p><small><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions">Mozilla Developer Network: ARIA Live Regions</a></small></p>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code class="js">// create a new div element 
var newDiv = document.createElement("div");

// set aria-live property
newDiv.setAttribute("aria-live", "polite");

// and give it some content 
var newContent = document.createTextNode("Surprise!"); 

// add the text node to the newly created div
newDiv.appendChild(newContent);

// add the new div to the page
document.body.appendChild(newDiv);

// ... WON'T ACTUALLY WORK</code></pre>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<p>by default, live regions only announce any new/changed content (with some browser/AT variations). however, this can be controlled:</p>
	<ul>
		<li><code>aria-atomic</code>: <code>true</code>/<code>false</code> ("treat the live region as one atomic unit and announce everything")</li>
	</ul>
	<p>example: <a target=_blank href="../demos/liveregion-atomic/index.html">live region</a> and <a target=_blank href="../demos/liveregion-atomic/index-atomic.html">live region with aria-atomic</a></p>
	<p><small>(there's also <code>aria-relevant</code>, but it is badly supported/pointless - see <a target=_blank href="https://medium.com/dev-channel/why-authors-should-avoid-aria-relevant-5d3164fab1e3">Aaron Leventhal and Rob Dodson: Why authors should avoid aria-relevant</a>).</small></p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h2>ARIA has many more <br><strong>complex/composite</strong> widgets and structures</h2>
</div>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>example:<br><strong>tab panels</strong></h3>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code>
&lt;div <mark>role="tablist"</mark> ...&gt;
  &lt;div <mark>role="tab"</mark> <mark>aria-controls="panel1"</mark>
       <mark>aria-selected="true"</mark>...&gt;Tab 1&lt;/div&gt;
  &lt;div <mark>role="tab"</mark> <mark>aria-controls="panel2"</mark> ...&gt;Tab 2&lt;/div&gt;
  &lt;div <mark>role="tab"</mark> <mark>aria-controls="panel3"</mark> ...&gt;Tab 2&lt;/div&gt;
&lt;/div&gt;

&lt;div <mark>role="tabpanel"</mark> id="panel1"&gt;...&lt;/div&gt;
&lt;div <mark>role="tabpanel"</mark> id="panel2" <mark>aria-hidden="true"</mark>&gt;...&lt;/div&gt;
&lt;div <mark>role="tabpanel"</mark> id="panel3" <mark>aria-hidden="true"</mark>&gt;...&lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/example-index/tabs/tabs-automatic.html">ARIA Authoring Practices Guide - Tabs with Automatic Activation</a></p>
<p>variations: <a target=_blank href="https://www.marcozehe.de/2013/02/02/advanced-aria-tip-1-tabs-in-web-apps/">Marco Zehe: Advanced ARIA tip #1: Tabs in web apps</a></p>
<p><strong>not appropriate</strong> if you're just marking up a site navigation...</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2>some shortcomings / problems with ARIA</h2>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<p>as useful as ARIA is, it is <strong>far from perfect</strong>...</p>
	<ul>
		<li>some patterns rooted deeply in native (Windows95 style) application paradigms – and as a result, quite limited/restrictive</li>
		<li>straying from these patterns / using ARIA incorrectly can make things worse for users</li>
		<li>certain roles/patterns define specific keyboard interactions – but work badly or not at all in touchscreen + AT scenarios</li>
		<li>particularly for new roles/attributes (ARIA 1.1) and complex patterns, browser and AT support may be lacking</li>
	</ul>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>example:<br><strong>menu/menubar</strong></h3>
</div>
</div></section>

<!-- -->

<section class="slide code listing"><div>
<pre><code class="html">
&lt;div <mark>role="menubar"</mark>&gt;
  &lt;div <mark>role="menuitem"</mark> ...&gt;...&lt;/div&gt;
  &lt;div <mark>role="menu"</mark>&gt;
    &lt;div <mark>role="menuitem"</mark> ...&gt;...&lt;/div&gt;
    &lt;div <mark>role="menuitem"</mark> ...&gt;...&lt;/div&gt;
    &lt;div <mark>role="menuitem"</mark> ...&gt;...&lt;/div&gt;
    ...
  &lt;/div&gt;
  ...
&lt;/div&gt;
</code></pre>
<p>example: <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/example-index/menubar/menubar-navigation.html">ARIA Authoring Practices Guide - Navigation Menubar</a></p>
<p>most suitable for "application-like" web-app menus, not for general "website navigation"</p>
<p><a target=_blank href="https://www.marcozehe.de/2018/09/22/wai-aria-menus-and-why-you-should-generally-avoid-using-them/">Marco Zehe: WAI-ARIA menus, and why you should generally avoid using them</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/aria-menu-spec.png" alt="Screenshot of the warning note on ARIA design patterns and touch device support in the 'Using ARIA' spec">
	<p><a target=_blank href="https://www.w3.org/TR/wai-aria/#menu">ARIA 1.1 menu (role)</a></p>
	<p><small>specific child elements only (<code>menuitem</code>, <code>menuitemcheckbox</code>, <code>menuitemradio</code>)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/aria-menu-inappropriate-construct.png" alt="Example of a non-standard dropdown with a search form field - this cannot be expressed with ARIA, as it doesn't allow anything other than menu items, menu checkboxes, menu radio buttons">
	<p>menu with a form control - not a valid ARIA menu...</p>
</div></section>

<!-- -->

<section class="slide statement"><div>
<div>
	<h3>example:<br><strong>touchscreen</strong> + <strong>assistive technology</strong></h3>
</div>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/aria-in-html-touch.png" alt="Screenshot of the warning note on ARIA design patterns and touch device support in the 'Using ARIA' spec">
	<p><a target=_blank href="https://www.w3.org/TR/using-aria/#aria-touch">Using ARIA - 2.15 ARIA Design Patterns and Touch Device Support</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/problem-slider-android.png" alt="Montage of screenshots for slider on Android, showing the announcement to use volume keys to change value">
	<p><a target=_blank href="https://www.w3.org/WAI/ARIA/apg/example-index/slider/slider-color-viewer.html">ARIA Authoring Practices Guide - Color Viewer Slider Example</a> on Android / Chrome / TalkBack<br><small>(use volume keys...)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/problem-slider-ios.png" alt="Screenshot of the slider on iOS">
	<p><a target=_blank href="https://www.w3.org/WAI/ARIA/apg/example-index/slider/slider-color-viewer.html">ARIA Authoring Practices Guide - Color Viewer Slider Example</a> on iOS / Safari / VoiceOver<br><small>(swipe up or down...)</small></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/problem-combobox-android.png" alt="Montage of screenshots for combobox on Android, showing no announcement of the combobox appearing">
	<p><a target=_blank href="https://www.w3.org/WAI/ARIA/apg/example-index/combobox/combobox-autocomplete-list.html">ARIA Authoring Practices Guide - Editable Combobox With List Autocomplete Example</a><br>on Android / Chrome / TalkBack</p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/problem-combobox-ios.png" alt="Screenshot of the combobox on iOS">
	<p><a target=_blank href="https://www.w3.org/WAI/ARIA/apg/example-index/combobox/combobox-autocomplete-list.html">ARIA Authoring Practices Guide - Editable Combobox With List Autocomplete Example</a><br>on iOS / Safari / VoiceOver</p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2>frameworks, web components, angular, react, etc?</h2>
</div>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<ul>
		<li>not everybody codes their complex applications from scratch using hand-made HTML/JavaScript/CSS</li>
		<li>many ready-made libraries, scripts and frameworks offer at least basic ARIA support (by default, or as an "optional" setting or module)</li>
		<li>particularly open source projects offer good opportunities to get involved – file issues, submit pull requests, improve documentation</li>
		<li>lack of accessibility/ARIA support likely not down to malice, but a lack of knowledge or even understanding of the problem...</li>
	</ul>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/bootstrap-accessibility.png" alt="">
	<p><a target=_blank href="http://getbootstrap.com/docs/4.1/getting-started/accessibility/">Bootstrap - Accessibility</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/docs-angularjs-accessibility.png" alt="">
	<p><a target=_blank href="https://docs.angularjs.org/guide/accessibility">AngularJS Developer Guide - Accessibility with ngARIA</a></p>
</div></section>

<!-- -->

<section class="slide"><div>
	<img src="pictures/sites/react-accessibility.png" alt="">
	<p><a target=_blank href="https://reactjs.org/docs/accessibility.html">React - Accessibility</a></p>
</div></section>

<!-- -->

<section class="slide impact"><div>
<div>
	<h2>recap...</h2>
</div>
</div></section>

<!-- -->

<section class="slide cover impact"><div>
	<div><p>ARIA is not a magic bullet</p></div>
	<img src="pictures/kennedy-magic-bullet.jpg" class="cover" alt="Diagram: the remarkable path of the pristine bullet according to Warren Commission (showing entry and exit wounds on Kennedy and Connally">
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>what ARIA is/isn't ...</h3>
	<ul>
		<li>ARIA conveys "what is this thing and what does it do?" to assistive technologies</li>
		<li>ARIA does not influence browser behavior itself – you need to manage keyboard handling, state, etc. yourself</li>
		<li>ARIA is vast and complex, depends on browser/AT support, has shortcomings</li>
	</ul>
</div></section>

<!-- -->

<section class="slide listing"><div>
	<h3>pragmatic approach to using ARIA</h3>
	<ul>
		<li>understand/break-up complex app into simple component elements</li>
		<li>you don't always need ARIA – appropriate HTML usually best</li>
		<li><a target=_blank href="https://www.w3.org/WAI/ARIA/apg/practices/read-me-first/#x2-1-no-aria-is-better-than-bad-aria">No ARIA is better than Bad ARIA</a></li>
		<li>consult the <a target=_blank href="https://www.w3.org/WAI/ARIA/apg/">ARIA Authoring Practices Guide</a> to see if they match an existing pattern</li>
		<li>follow the <a target=_blank href="https://www.w3.org/TR/using-aria/">rules of ARIA</a></li>
		<li>check main <a target=_blank href="https://www.w3.org/TR/wai-aria/">ARIA specification</a> for correct syntax, expected attributes, valid values</li>
		<li>test in actual browser/AT</li>
	</ul>
</div></section>

<!-- -->

<section class="slide"><div>
	<h2>get in touch</h2>
	<p><a target=_blank href="https://mastodon.social/@patrick_h_lauke">@patrick_h_lauke@mastodon.social</a><br>
	<a target=_blank href="https://github.com/patrickhlauke/aria">github.com/patrickhlauke/aria</a><br>
	<a target=_blank href="https://www.splintered.co.uk">splintered.co.uk</a><p>
	<p><img src="pictures/cc-by-nc-sa.svg" width="271" height="64" alt="Creative Commons: Attribution Non-Commercial Share-Alike"></p>
</div></section>

	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"><div></div></div>
	<script src="shower/shower.min.js"></script>
</body>
</html>